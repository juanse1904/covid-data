(this["webpackJsonpcovid-data"]=this["webpackJsonpcovid-data"]||[]).push([[0],{195:function(e,t,a){},196:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},201:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(34),r=a.n(c),s=a(8),o=a(80),i=a(4),d=function(e,t){switch(t.type){case"SET_STATE_LIST":var a=t.payload.map((function(e){return e.region.province})).sort((function(e,t){return e<t?-1:e>t?1:0}));return Object(i.a)(Object(i.a)({},e),{},{stateList:a});case"SET_DEATH_LIST":e.deaths.unshift(t.payload?t.payload.deaths:0);var n=e.deaths;return Object(i.a)(Object(i.a)({},e),{},{deaths:n});case"SET_STATE_DATA":var c=t.payload.sort((function(e,t){return e.region.province<t.region.province?-1:e.region.province>t.region.province?1:0}));return console.log(c.map((function(e){return e.region.province}))),Object(i.a)(Object(i.a)({},e),{},{stateDataList:c});case"SET_DATE_LIST":e.dates.unshift(t.payload?t.payload:0);var r=e.dates;return Object(i.a)(Object(i.a)({},e),{},{dates:r});case"SET_CONFIRMED_LIST":e.confirmed.unshift(t.payload?t.payload.confirmed:0);var s=e.confirmed;return Object(i.a)(Object(i.a)({},e),{},{confirmed:s});case"SET_STATE_BYNAME":var o=e.stateList.filter((function(e){return e.toLowerCase().includes(t.payload.toLowerCase())}));return Object(i.a)(Object(i.a)({},e),{},{stateListByName:o});case"RESET_VALUES":return Object(i.a)(Object(i.a)({},e),{},{confirmed:[],dates:[],deaths:[]});default:return e}},l=(a(88),a(77)),j=a(3),u=a(6),b=a(21),p=a.n(b),O=a(36),h=a(79),S=(a(195),a(196),a(1)),A=function(){return Object(S.jsxs)("div",{className:"lds-roller",children:[Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{}),Object(S.jsx)("div",{})]})},x=function(e){var t=e.period,a=e.place,c=(e.load,Object(s.c)()),r=Object(s.d)((function(e){return e.dates})),o=Object(s.d)((function(e){return e.deaths})),i=Object(s.d)((function(e){return e.confirmed})),d=Object(n.useState)({}),l=Object(u.a)(d,2),j=l[0],b=l[1],x=Object(n.useState)(!0),f=Object(u.a)(x,2),g=f[0],E=f[1],T=Object(n.useState)({}),m=Object(u.a)(T,2),y=m[0],v=m[1],D=["January","February","March","April","May","June","July","August","September","October","November","December"],_=function(){var e=Object(O.a)(p.a.mark((function e(){var n,s,d,l,j,u,O,h,S,A,x,f,g,T,m,y,_,C,N,k,I,w,L;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(!0);case 2:e.t0=t,e.next=0===e.t0?5:8===e.t0?28:30===e.t0?46:63;break;case 5:n=new Date,s=new Date("2020-02-01"),d=12*(n.getFullYear()-s.getFullYear())-s.getMonth()+1+n.getMonth(),l=1;case 9:if(!(l<d)){e.next=27;break}return j=new Date(n-30*l*1e3*3600*24),u=j.toISOString().split("T")[0],O=j.getMonth(),h=j.getFullYear(),S="".concat(D[O],", ").concat(h),e.next=17,fetch("All US"===a?"https://covid-api.com/api/reports/total?iso=USA&date=".concat(u):"https://covid-api.com/api/reports?region_province=".concat(a,"&date=").concat(u));case 17:return A=e.sent,e.next=20,A.json();case 20:x=e.sent,c({type:"SET_DEATH_LIST",payload:"All US"!==a?x.data[0]:x.data}),c({type:"SET_DATE_LIST",payload:S}),c({type:"SET_CONFIRMED_LIST",payload:"All US"!==a?x.data[0]:x.data});case 24:l++,e.next=9;break;case 27:return e.abrupt("break",70);case 28:f=new Date,g=1;case 30:if(!(g<9)){e.next=45;break}return T=new Date(f-1e3*g*3600*24).toISOString().split("T")[0],e.next=34,fetch("All US"===a?"https://covid-api.com/api/reports/total?iso=USA&date=".concat(T):"https://covid-api.com/api/reports?region_province=".concat(a,"&date=").concat(T));case 34:return m=e.sent,e.next=37,m.json();case 37:y=e.sent,console.log("the data of the error",f,T),c({type:"SET_DEATH_LIST",payload:"All US"!==a?y.data[0]:y.data}),c({type:"SET_DATE_LIST",payload:T}),c({type:"SET_CONFIRMED_LIST",payload:"All US"!==a?y.data[0]:y.data});case 42:g++,e.next=30;break;case 45:return e.abrupt("break",70);case 46:_=new Date,C=1;case 48:if(!(C<31)){e.next=62;break}return N=new Date(_-1e3*C*3600*24).toISOString().split("T")[0],e.next=52,fetch("All US"===a?"https://covid-api.com/api/reports/total?iso=USA&date=".concat(N):"https://covid-api.com/api/reports?region_province=".concat(a,"&date=").concat(N));case 52:return k=e.sent,e.next=55,k.json();case 55:I=e.sent,c({type:"SET_DEATH_LIST",payload:"All US"!==a?I.data[0]:I.data}),c({type:"SET_DATE_LIST",payload:N}),c({type:"SET_CONFIRMED_LIST",payload:"All US"!==a?I.data[0]:I.data});case 59:C++,e.next=48;break;case 62:return e.abrupt("break",70);case 63:return e.next=65,fetch("https://covid-api.com/api/reports/total?iso=USA");case 65:return w=e.sent,e.next=68,w.json();case 68:L=e.sent,c({type:"SET_STATE_LIST",payload:L.data});case 70:return b({labels:r,datasets:[{label:"# of confirmed cases",data:i,backgroundColor:["rgba(255, 99, 132, 0.2)"],borderColor:["rgba(255, 99, 132, 1)"],borderWidth:1},{label:"# of deaths",data:o,backgroundColor:["rgba(54, 162, 235, 0.2)"],borderColor:["rgba(54, 162, 235, 1)"],borderWidth:1}]}),v({scales:{yAxes:[{ticks:{beginAtZero:!1}}]},onClick:function(e,t){window.location="/".concat(r[t[0].index])}}),e.next=74,E(!1);case 74:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){_()}),[t,a]),Object(S.jsxs)("div",{className:"principal-container",children:[Object(S.jsx)("h1",{children:a}),Object(S.jsxs)("div",{className:"histogram-container",children:[g?Object(S.jsx)(A,{}):null,Object(S.jsx)(h.a,{id:"histogram01",data:j,options:y})]})]})},f=(a(198),{stateByName:function(e){return{type:"SET_STATE_BYNAME",payload:e}}}),g=Object(s.b)(null,f)((function(e){var t=Object(s.d)((function(e){return e.stateListByName})),a=Object(n.useState)(!1),c=Object(u.a)(a,2),r=c[0],o=c[1],i=Object(n.useState)(!1),d=Object(u.a)(i,2),l=d[0],j=d[1],b=Object(n.useState)(8),p=Object(u.a)(b,2),O=p[0],h=p[1],A=Object(n.useState)("All US"),f=Object(u.a)(A,2),g=f[0],E=f[1],T=Object(s.c)();function m(e){T({type:"RESET_VALUES",payload:[]}),h(e)}return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"infobar",children:[Object(S.jsxs)("div",{className:"".concat(l?"sbar open":"sbar"),onClick:function(){return j(!l)},children:[Object(S.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACC0lEQVRYR82X4TVDQRCFbyqgA1QQqQAVoIJEBaiADlABKpB0QAWoAB1QAeeLt84auzv7wnsyv3Le7s7euXd2ZjJQ2dYl7Urak7QqabPZ/iDpVdJU0kzSs+MnuzzIrHDxiaRJpeMrSccNqMojn9tSAIj2som4jTMYOWhYqT5nARAxl//GAAEjVRYDIPKbxKkXSeeSbiWhPUYubEs6krSWOLNfy0QAgOb3CdrRlctLBogzswE5RjXJGQBA2dg4wUGI2KMTRgggtuuaJAYA0T+ZwzWRW1ApJjY8FgBgD6I5oBYx6kGcE24gACC5tqLb3EMFZDYYihTJnTUAoF2ocGxso711bHOBHMJfEcC7Wc1Vx1pJWvnjslYHKlC08gcAaBpGjv9Sgkcj7w/8S5GENnN5SrzfRYx6Ej9h90UtRSEi0n8txQCANpJxxfCOPBeOFoeJhvXWJJ87KdW0Y5zQEe9MO6Z6AjBVtl3tQ1BdDCTBN4wynBQ7am4kIyesHN6rgHaYYpYM5o5ppaH0NDEj5EDQ+9mPXLawcSabS17dR1+6GeMXv0PFpMJxGZ2U0TxONhoS3y2DsIok38wD4NGeW88NtwBjXkSauXUFINBuZ0W+IxEg5qx1CSBX4PgOAzuA6RoAl9mJK5Zt1AcA/lMCIm75X7WiDwClUt95DsR0p/47zPpiIAABBPUAOZiYJx8SnHPfEfI62gAAAABJRU5ErkJggg==",alt:"search icon"}),Object(S.jsx)("input",{type:"text",placeholder:"Search for a State...",onChange:function(t){e.stateByName(t.target.value)},onClick:function(){return j(!l)}}),Object(S.jsx)("ul",{children:t.map((function(e){return Object(S.jsx)("li",{onClick:function(){return function(e){T({type:"RESET_VALUES",payload:[]}),E(e)}(e)},children:e})}))})]}),Object(S.jsxs)("div",{className:"".concat(r?"dropdown open":"dropdown"),onClick:function(){return o(!r)},id:"filter",children:["Filter by period",Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{onClick:function(){return m(8)},children:"Last 7 days"}),Object(S.jsx)("li",{onClick:function(){return m(30)},children:"Last month"}),Object(S.jsx)("li",{onClick:function(){return m(0)},children:"Since the begining of the pandemic"})]})]})]}),Object(S.jsx)(x,{period:O,place:g})]})})),E=function(){return Object(S.jsx)(g,{})},T=(a(199),function(e){var t=e.match.params.date,a=Object(n.useState)(!0),c=Object(u.a)(a,2),r=c[0],o=c[1],i=Object(s.c)(),d=Object(s.d)((function(e){return e.stateDataList})),l=Object(n.useState)(0),j=Object(u.a)(l,2),b=j[0],h=j[1],x=Object(n.useState)(0),f=Object(u.a)(x,2),g=f[0],E=f[1],T=function(){var e=Object(O.a)(p.a.mark((function e(){var a,n,c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://covid-api.com/api/reports?iso=USA&date=".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,i({type:"SET_STATE_DATA",payload:n.data}),e.next=9,fetch("https://covid-api.com/api/reports/total?iso=USA&date=".concat(t));case 9:return c=e.sent,e.next=12,c.json();case 12:r=e.sent,h(r.data.deaths),E(r.data.confirmed),o(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){T()}),[]),Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("div",{className:"table-container",children:[r?Object(S.jsx)(A,{}):null,Object(S.jsxs)("div",{className:"country-info",children:[Object(S.jsx)("h1",{children:"All US"}),Object(S.jsx)("h2",{children:"Date:"}),Object(S.jsx)("p",{children:t}),Object(S.jsx)("h2",{children:"Deaths:"}),Object(S.jsx)("p",{children:b.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}),Object(S.jsx)("h2",{children:"Confirmed:"}),Object(S.jsx)("p",{children:g.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})]}),Object(S.jsxs)("table",{children:[Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"State"}),Object(S.jsx)("th",{children:"Confirmed"}),Object(S.jsx)("th",{children:"Deaths"})]}),d.length>0?d.map((function(e){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:e.region.province}),Object(S.jsx)("td",{children:e.confirmed.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}),Object(S.jsx)("td",{children:e.deaths.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})]})})):null]})]})})}),m=function(){return Object(S.jsxs)(l.a,{children:[Object(S.jsx)(j.a,{exact:!0,path:"/",component:E}),Object(S.jsx)(j.a,{exact:!0,path:"/:date",component:T})]})},y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,v=Object(o.a)(d,{stateList:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Diamond Princess","District of Columbia","Florida","Georgia","Grand Princess","Guam","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Northern Mariana Islands","Ohio","Oklahoma","Oregon","Pennsylvania","Puerto Rico","Recovered","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virgin Islands","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],stateListByName:[],dates:[],confirmed:[],deaths:[],stateDataList:[]},y());r.a.render(Object(S.jsx)(s.a,{store:v,children:Object(S.jsx)(m,{})}),document.getElementById("root"))},88:function(e,t,a){}},[[201,1,2]]]);
//# sourceMappingURL=main.34637127.chunk.js.map